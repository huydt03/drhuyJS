let Drhuy=function(){let e=function(){return{arrToObject:function(e,t=!0){let n={};return e.forEach(e=>{n[e]=t}),n},strToAttrs:function(e){let t={},n=e.split("|");for(var i=0;i<n.length;i++){let e=n[i].split("=");e[0]&&e[1]&&(t[e[0]]=e[1])}return t}}}();function t(e=[]){"object"!=typeof e&&(e=arguments);const t="empty";let n,i={};function o(e){Object.defineProperties(n,{[e]:{set:function(n){if("function"!=typeof n||"string"!=typeof e)return;i[e]||(i[e]={});let o=n.name?n.name:t;i[e][o]||(i[e][o]=[]),i[e][o].push(n)}}})}function r(e,t){n[e]||o(e),n[e]=t}function f(e,t={}){if(i[e])for(let n in i[e])if("object"==typeof i[e][n])for(let o in i[e][n])"function"==typeof i[e][n][o]&&i[e][n][o](t)}function l(e,n=null,o=1){if(!i[e])return;if(!n)return delete i[e];let r=n.name?n.name:t;if(1==o)delete i[e][r];else for(let t in i[e][r])i[e][r][t]==n&&delete i[e][r][t]}return function(){n={fire:f,on:r,remove:l},i={};for(let t in e)o(e[t])}(),n}let n=new t(["onCreateElement","onBeforeAjax","onAfterAjax","onAjaxSuccess","onAjaxFail","onStartAjax","onEndedAjax"]);n.EventHandle=t,n.createElement=function(t={}){let o=e.arrToObject(["_type","items","childs","text","tbAttrSkip"]),r={...t.tbAttrSkip,...o};t.innerHTML=t.innerHTML?t.innerHTML:t.text;let f=document.createElement(t._type?t._type:"div");if(f=function e(t,n){for(let i in n)if(!r[i]&&n[i])if(null!=t[i])if("object"==typeof n[i]){let o=e(t[i],n[i]);t[i]=o}else t[i]=n[i];else try{"function"==typeof n[i]?t[i]=n[i]:t.setAttribute(i,n[i])}catch(e){}return t}(f,t),t.childs)for(i in t.childs){let e=t.childs[i];eChild=e.appendChild?e:n.createElement(e),f.appendChild(eChild)}return n.fire("onCreateElement",f),f},n.fastCreateElement=function(t=null){"object"!=typeof t&&(t=arguments);let o="div",r=null,f=null,l="";for(i in t)"object"!=typeof t[i]?"."!=t[i][0]?t[i].includes("=")?r=e.strToAttrs(t[i]):o=t[i]:l=t[i].substring(1,t[i].length):f=t[i];let c=n.createElement({...r,_type:o,text:l});if(f)for(i in f){let e=f[i];eChild=e.appendChild?e:n.fastCreateElement(e),c.appendChild(eChild)}return c};let o=[],r=0;return n.ajax=async function(e=null,t=0){if("object"!=typeof e&&(e=arguments),r||n.fire("onStartAjax"),t||o.push(e),!t&&o.length>1)return;let f="/",l="GET",c={},a=function(){},s={};for(i in n.fire("onBeforeAjax",{nAction:r,nTotal:o.length}),e)"object"!=typeof e[i]?"function"!=typeof e[i]?e[i].includes("/")?f=e[i]:l=e[i]:a=e[i]:e[i].success||e[i].fail?s=e[i]:c=e[i];var u=new XMLHttpRequest||ActiveXObject("Microsoft.XMLHTTP");u.onloadend=function(){n.fire("onAfterAjax",{self:this,nAction:r,nTotal:o.length}),o[++r]?n.ajax(o[r],t=1):(n.fire("onEndedAjax"),o=[],r=0)},c=new URLSearchParams(c).toString(),"GET"==l&&(f+=`?${c}`),u.onreadystatechange=await(function(){a(this),4==this.readyState&&200==this.status?(n.fire("onAjaxSuccess",this),"function"==typeof s.success&&s.success(this)):(n.fire("onAjaxFail",this),"function"==typeof s.fail&&s.fail(this))}),u.open(l,f,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(c)},n}();